<%! from django.utils.translation import ugettext as _ %>
<%! from django.utils import timezone %>
<%! from student.models import UserProfile %>
<%! from labster.models import LabsterUser %>

<%namespace name='static' file='/static_content.html'/>
<section id="register-modal" class="modal register-modal" ng-app="LabsterAnalytics">
  <div class="inner-wrapper login-wizard" role="alertdialog" aria-labelledy="register-modal-title">
    <header>
      <h2>
        ${_("Please Log In")}
      </h2>
      <hr/>
    </header>
    <form id="login-wizard-form" action="#" method="post" class="labster-register-form">
      <label>
        <input id="email-login" type="text" name="email" class="required" placeholder="Email Address" analytics-on="focus" analytics-category="Login" analytics-event="Input Email Login">
        <span class="error-message"></span>
      </label>
      <label>
        <input id="password-login" type="password" name="password" class="required" placeholder="Password" analytics-on="focus" analytics-category="Login" analytics-event="Input Password Login">
        <span class="error-message"></span>
      </label>
      <label>
        <input id="checkbox-login" type="checkbox" name="remember" class="required" analytics-on="click" analytics-category="Login" analytics-event="Keep me Logged In Login">Keep me logged in
        <span class="error-message"></span>
      </label>
      <div class="submit">
        <button type="submit" id="register-wizard-login-btn" class="labster-register button-labster-blue" data-original-html="Sign Up" analytics-on="click" analytics-category="Registration" analytics-event="Submit Email">${_('Log In')}</button>
      </div>
      <div class="tos-container">
        <p>Not a member yet? <a class="show-register-form">Sign up now</a></p>
      </div>
    </form>
  </div>
  <div class="inner-wrapper register-wizard-0" role="alertdialog" aria-labelledy="register-modal-title">
    <header>
      <h2>
        ${_("Sign up to take this course")}
      </h2>
      <hr/>
    </header>
    <form id="register-wizard-0-form" action="#" method="post" class="labster-register-form">
      <label>
        <span class="label">Sign up with your email</span>
        <input id="email-0" type="email" name="email" class="required" placeholder="Email Address" analytics-on="focus" analytics-category="Registration" analytics-event="Input Email">
        <span class="error-message"></span>
      </label>
      <div class="submit">
        <button type="submit" id="register-wizard-0-btn" class="labster-register button-labster-blue" data-original-html="Sign Up" analytics-on="click" analytics-category="Registration" analytics-event="Submit Email">${_('Sign up')}</button>
      </div>
      <div class="tos-container">
        By signing up, you agree to our <a href="http://web.labster.com/terms-and-conditions/" target="_blank">Terms of Service</a>
        <p>Have an account? <a class="show-login-form">Login now</a></p>
      </div>
    </form>
  </div>
  <div class="inner-wrapper register-wizard-1" role="alertdialog" aria-labelledy="register-modal-title">
    <header>
      <h2>
        ${_("Almost there")}
      </h2>
      <hr/>
    </header>
    <form id="register-wizard-1-form" action="#" method="post" class="labster-register-form">
      <label>
        <span class="label">Name</span>
        <input type="text" id="name-1" placeholder="Name" name="name" class="required" analytics-on="focus" analytics-category="Registration" analytics-event="Input Name">
        <span class="error-message"></span>
      </label>
      <label>
        <span class="label">Password</span>
        <input type="password" id="password-1" placeholder="Password" name="password" class="required" analytics-on="focus" analytics-category="Registration" analytics-event="Input Password">
        <span class="error-message"></span>
      </label>
      <div class="submit">
        <button type="submit" id="register-wizard-1-btn" class="labster-register button-labster-blue" data-original-html="Sign Up" analytics-on="click" analytics-category="Registration" analytics-event="Submit Name/Password">${_('Sign up')}</button>
      </div>
      <div class="tos-container">
        By signing up, you agree to our <a href="http://web.labster.com/terms-and-conditions/" target="_blank">Terms of Service</a>
      </div>
    </form>
  </div>
  <div class="inner-wrapper register-wizard-2-t teacher" role="alertdialog" aria-labelledy="register-modal-title">
    <header>
      <h2>
        ${_("Last Questions")}
      </h2>
      <hr/>
    </header>
    <form id="register-wizard-2-t-form" action="#" method="post" class="labster-register-form">
      <label>
        <input type="text" id="phone_number-2" type="tel" placeholder="Phone Number" name="phone_number"  class="required" analytics-on="focus" analytics-category="Registration" analytics-event="Input Phone Number">
        <span class="error-message"></span>
      </label>
      <label>
        <div class="select-container">
          <select id="occupation" name="user_school_level" class="required" analytics-on="click" analytics-category="Registration" analytics-event="Input Occupation">
            % for key, value in LabsterUser.USER_SCHOOL_LEVEL_CHOICES:
            <option value="${key}">${value}</option>
            % endfor
          </select>
        </div>
        <span class="error-message"></span>
      </label>
      <label>
        <input type="text" id="school-2" placeholder="School/Company Name" name="organization_name" class="required" analytics-on="focus" analytics-category="School/Company Name" analytics-event="Input School/Company Name">
        <span class="error-message"></span>
      </label>
      <div class="submit">
        <button type="submit" id="register-wizard-2-t-btn" class="labster-register button-labster-blue" data-original-html="Complete Regisration" analytics-on="click" analytics-category="Registration" analytics-event="Submit School/Phone Number">Complete Registration</button>
      </div>
    </form>
  </div>
  <div class="inner-wrapper register-wizard-2-s student" role="alertdialog" aria-labelledy="register-modal-title">
    <header>
      <h2>
        ${_("Last Questions")}
      </h2>
      <hr/>
    </header>
    <form id="register-wizard-2-s-form" action="#" method="post" class="labster-register-form">
      <label>
        <div class="select-container">
          <select id="level_of_education" name="level_of_education" analytics-on="click" analytics-category="Registration" analytics-event="Input Education">
            <option value="">Higest Level of Education</option>
            % for key, value in UserProfile.LEVEL_OF_EDUCATION_CHOICES:
            <option value="${key}">${value}</option>
            % endfor
          </select>
        </div>
      </label>
      <label>
        <div class="select-container">
          <select id="gender" name="gender" analytics-on="click" analytics-category="Registration" analytics-event="Input Gender">
            <option value="">Gender</option>
            <option value="m">Male</option>
            <option value="f">Female</option>
            <option value="o">Other</option>
          </select>
        </div>
      </label>
      <label>
        <div class="select-container">
          <select id="year_of_birth" name="year_of_birth" analytics-on="click" analytics-category="Registration" analytics-event="Input Year of Birth">
            <option value="">Year of Birth</option>
            % for year in range(timezone.now().year - 10, timezone.now().year - 110, -1):
            <option value="${year}">${year}</option>
            % endfor
          </select>
        </div>
      </label>
      <div class="submit">
        <button type="submit" id="register-wizard-2-s-btn" class="labster-register button-labster-blue" data-original-html="Complete Registration" analytics-on="click" analytics-category="Registration" analytics-event="Complete Registration">Complete Registration</button>
      </div>
      <div class="button-link-container">Or <a href="" id="link-skip-question" class="button-link-submit" analytics-on="click" analytics-category="Registration" analytics-event="Skip Questions">Skip questions</a></div>
    </form>
  </div>

  <div class="inner-wrapper register-wizard-3 teacher" role="alertdialog" aria-labelledy="register-modal-title">
    <header>
      <h2>
        ${_("Registration Complete")}
      </h2>
      <hr/>
    </header>
    <form id="register-wizard-3-form" action="/labster/login-by-token/" method="post">
      <input type="hidden" name="csrfmiddlewaretoken" value="${csrf_token}">
      <input type="hidden" name="user_id">
      <input type="hidden" name="user_type">
      <input type="hidden" name="course_id">
      <input type="hidden" name="token_key">
      <input type="hidden" name="is_demo_course">
      <input type="hidden" name="next">
      <div class="submit">
        <button type="submit" id="register-wizard-3-btn" class="labster-register button-labster-blue">Continue</button>
      </div>
    </form>
  </div>
</section>
